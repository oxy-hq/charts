# Integration test with PostgreSQL enabled
nameOverride: "oxy-test-postgres"
fullnameOverride: "oxy-test-postgres"

app:
  image: "ghcr.io/oxy-hq/oxy"
  imageTag: "0.3.19"
  imagePullPolicy: "IfNotPresent"

replicaCount: 1

service:
  type: ClusterIP
  port: 80
  targetPort: 80

# Enable PostgreSQL dependency (groundhog2k postgres chart)
database:
  postgres:
    enabled: true

# Configure the postgres subchart (groundhog2k)
postgres:
  settings:
    superuserPassword:
      value: postgres
  userDatabase:
    name:
      value: app
    user:
      value: app
    password:
      value: testpass123
  storage:
    requestedSize: 1Gi
    className: standard

resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi