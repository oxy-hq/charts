suite: externalsecret
templates:
  - externalsecret.yaml

tests:
  - it: renders env ExternalSecret
    values:
      - values-externalsecret.yaml
    documentSelector:
      path: metadata.name
      value: my-env-secret
    asserts:
      - equal:
          path: kind
          value: ExternalSecret
      - equal:
          path: metadata.name
          value: my-env-secret

  - it: renders file ExternalSecret
    values:
      - values-externalsecret.yaml
    documentSelector:
      path: metadata.name
      value: my-file-secret
    asserts:
      - equal:
          path: kind
          value: ExternalSecret
      - equal:
          path: metadata.name
          value: my-file-secret